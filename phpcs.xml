<?xml version="1.0"?>
<ruleset name="PHP_CodeSniffer">
    <description>The coding standard for PHP_CodeSniffer itself.</description>
    <file>./</file>
    <exclude-pattern>*/Tests/*</exclude-pattern>
    <exclude-pattern>*/Resources/*</exclude-pattern>
    <exclude-pattern>*/vendor/*</exclude-pattern>

    <arg value="np"/>

    <rule ref="Doctrine">
        <!-- checked by SlevomatCodingStandard.Namespaces.UseSpacing -->
        <exclude name="PSR2.Namespaces.UseDeclaration.SpaceAfterLastUse"/>
        <!-- checked by SlevomatCodingStandard.Namespaces.NamespaceSpacing -->
        <exclude name="PSR2.Namespaces.NamespaceDeclaration.BlankLineAfter"/>

        <!-- Should be tested first -->
        <exclude name="SlevomatCodingStandard.TypeHints.DeclareStrictTypes" phpcbf-only="true"/>

        <!-- Don't fix automagically: https://github.com/slevomat/coding-standard/issues/353 -->
        <exclude name="SlevomatCodingStandard.TypeHints.TypeHintDeclaration" phpcbf-only="true" />

        <!-- Allow multiline for cleaner git commits -->
        <exclude name="Squiz.Arrays.ArrayDeclaration.MultiLineNotAllowed"/>
        <exclude name="Squiz.WhiteSpace.SemicolonSpacing"/>
    </rule>

    <rule ref="SlevomatCodingStandard.Commenting.DocCommentSpacing">
        <properties>
            <property name="linesCountBeforeFirstContent" value="0" />
            <property name="linesCountAfterLastContent" value="0" />
            <property name="linesCountBetweenAnnotationsGroups" value="1" />
            <property name="annotationsGroups" type="array">
                <element value="
                        @internal,
                        @deprecated,
                    "/>
                <element value="
                        @link,
                        @see,
                        @uses,
                        @var
                    "/>
                <element value="@param"/>
                <element value="@return"/>
                <element value="@throws"/>
            </property>
        </properties>
    </rule>
    <rule ref="SlevomatCodingStandard.TypeHints.TypeHintDeclaration">
        <properties>
            <property
                    name="usefulAnnotations"
                    type="array"
                    value="
                    @after,
                    @before,
                    @deprecated,
                    @required,
                    @throws
                "
            />
        </properties>
    </rule>
</ruleset>
